{% extends 'base.html' %}

{% block content %}
<h1>{{ announcement.title }}</h1>
<p><strong>Posted:</strong> {{ announcement.created_at|date:"F d, Y g:i A" }}</p>

<div id="content">
    <p id="summary">{{ announcement.content|truncatewords:50 }}</p>
    <div id="full-content" style="display: none;">
        {{ announcement.content|linebreaks }}
    </div>
    <button onclick="toggleContent()">Read More</button>
</div>

<hr>
<a href="{% url 'announcement_list' %}">‚Üê Back to All Announcements</a>

<script>
function toggleContent() {
    var summary = document.getElementById('summary');
    var fullContent = document.getElementById('full-content');
    var button = document.querySelector('button');
    
    if (fullContent.style.display === 'none') {
        summary.style.display = 'none';
        fullContent.style.display = 'block';
        button.textContent = 'Show Less';
    } else {
        summary.style.display = 'block';
        fullContent.style.display = 'none';
        button.textContent = 'Read More';
    }
}
</script>
{% endblock %}